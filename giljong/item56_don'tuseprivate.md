# 왜 private를 쓰면 안되는가?

이는 타입스크립트에서만 private 키워드를 제공하고

실제 자바스크립트에서는 아직 private 키워드를 제공하지 않기 때문입니다.

그렇기 때문에 타입스크립트에서 private 문을 사용한 뒤 컴파일을 하면

private 키워드는 사라지고 해당 키워드에 접근할 수 있습니다.


# 그럼 어떡함?

자바스크립트에서 캡슐화를 구현할 수 있는 기법인 클로저를 이용할 것을 권장합니다.

그러나 클로저를 이용하여 캡슐화를 구현할 경우에는

인스턴스를 생성할 때마다 복사본이 생성되기 때문에 메모리를 낭비하게 된다는 문제가 있습니다.

또한 일반적인 객체지향 언어에서는 클래스 단위로 private 된 프로퍼티들이 비공개되지만

클로저를 이용할 경우 인스턴스 단위로 비공개 된다는 차이도 존재합니다.


# 그럼 어떡함?(2)

현재 표준화 진행 중인 비공개 필드 기능을 사용하는 방법이 있습니다.

비공개 필드 기능은 접두사로 #를 붙여 타입 체크와 런타임 모두에서 비공개로 만드는 역할을 합니다.

이 방식을 채택한 경우 자바스크립트로 컴파일 시

Weakmap을 이용한 구현으로 대체되며 데이터가 런타임에도 비공개로 처리됩니다.

# 마치며

private 키워드가 있는데 어째서 # 도 같이 존재 하는지 궁금했었던 기억이 있습니다.

런타임에서의 한계때문에 생긴거라는 걸 알고나니 이제부터는 # 키워드를 이용할 것 같네요